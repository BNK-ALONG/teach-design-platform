(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-6ec845f6"],{"09e2":function(e,t,a){},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){function i(e){return function(t){var a=String(n(t));return 1&e&&(a=a.replace(s,"")),2&e&&(a=a.replace(c,"")),a}}var n=a("1d80"),l="["+a("5899")+"]",s=RegExp("^"+l+l+"*"),c=RegExp(l+l+"*$");e.exports={start:i(1),end:i(2),trim:i(3)}},7156:function(e,t,a){var i=a("861d"),n=a("d2bb");e.exports=function(e,t,a){var l,s;return n&&"function"==typeof(l=t.constructor)&&l!==a&&i(s=l.prototype)&&s!==a.prototype&&n(e,s),e}},a8bd:function(e,t,a){"use strict";var i=a("09e2");a.n(i).a},a9e3:function(e,t,a){"use strict";function i(e){var t,a,i,n,l,s,c,r,o=u(e,!1);if("string"==typeof o&&2<o.length)if(43===(t=(o=v(o)).charCodeAt(0))||45===t){if(88===(a=o.charCodeAt(2))||120===a)return NaN}else if(48===t){switch(o.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+o}for(s=(l=o.slice(2)).length,c=0;c<s;c++)if((r=l.charCodeAt(c))<48||n<r)return NaN;return parseInt(l,i)}return+o}var n=a("83ab"),l=a("da84"),s=a("94ca"),c=a("6eeb"),r=a("5135"),o=a("c6b6"),d=a("7156"),u=a("c04e"),p=a("d039"),f=a("7c73"),h=a("241c").f,m=a("06cf").f,g=a("9bf2").f,v=a("58a8").trim,b="Number",N=l[b],w=N.prototype,C=o(f(w))==b;if(s(b,!N(" 0o1")||!N("0b1")||N("+0x1"))){for(var x,_=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof _&&(C?p((function(){w.valueOf.call(a)})):o(a)!=b)?d(new N(i(t)),a,_):i(t)},I=n?h(N):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),y=0;I.length>y;y++)r(N,x=I[y])&&!r(_,x)&&g(_,x,m(N,x));(_.prototype=w).constructor=_,c(l,b,_)}},d576:function(e,t,a){"use strict";var i=a("def3");a.n(i).a},def3:function(e,t,a){},f1eb:function(e,t,a){"use strict";a.r(t),a("4160"),a("b0c0"),a("159b"),a("a9e3");var i={name:"TemplateItem",data:function(){return{}},props:{fileId:{type:String,required:!0},fileName:{type:String,required:!0},index:{type:Number,required:!0},btnTitleIcon:{type:Array,default:function(){return[{title:"打开",icon:"el-icon-folder-opened"},{title:"分享",icon:"el-icon-share"},{title:"重命名",icon:"el-icon-edit"},{title:"下载",icon:"el-icon-download"}]}}},methods:{}},n=(a("a8bd"),a("2877")),l=Object(n.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"template-item"},[a("div",{staticClass:"template-item-content"},[a("img",{attrs:{src:"https://internal-api-drive-stream-hl.feishu.cn/space/api/box/stream/download/all/boxcntQQdTShCs3ZTwH01fFmMbf/"}}),a("div",{staticClass:"hover-btn"},[a("span",{staticClass:"el-icon-folder-opened",attrs:{title:"打开","data-id":e.fileId,"data-index":e.index}}),a("span",{staticClass:"el-icon-share",attrs:{title:"分享","data-id":e.fileId,"data-index":e.index}}),a("span",{staticClass:"el-icon-edit",attrs:{title:"重命名","data-id":e.fileId,"data-index":e.index}}),a("span",{staticClass:"el-icon-download",attrs:{title:"下载","data-id":e.fileId,"data-index":e.index}})])]),a("p",{staticClass:"template-item-filename"},[e._v(e._s(e.fileName))])])}),[],!1,null,null,null).exports,s=a("365c"),c=a("ed08"),r={components:{TemplateItem:l},data:function(){return{designFileList:[],templateFileList:[],collectFileList:[],activeName:"design",renameDialogVisible:!1,initChangeName:"",changeName:"",renameBtnLoading:!1,curList:null,curId:"",curIndex:"",fileName:"",fileType:"",createNewFileDialog:!1}},watch:{"$route.query":function(e){this.activeName=e.tag||"design"}},created:function(){this.init();var e=this.$route.query.tag;e&&(this.activeName=e)},methods:{handleClick:function(){},init:function(){var e=this,t=localStorage.getItem("username");Object(s.c)(t).then((function(t){t.forEach((function(t){switch(t.type){case"design":e.designFileList.push(t);break;case"template":e.templateFileList.push(t);break;case"collect":e.collectFileList.push(t)}}))}))},open:function(e){var t=this,a=this.$loading({});Object(s.d)(e).then((function(i){var n=i.name,l=i.content,s=i.type;localStorage.setItem("file_id",e),localStorage.setItem("file_type",s),localStorage.setItem("file_name",n),localStorage.setItem("content",JSON.stringify(l)),t.$router.push({name:"CourseBrief",query:{id:e}}).then((function(){a.close()}))})).catch((function(){a.close()}))},share:function(){this.$alert("该功能尚未完善，敬请期待！","开发者提示",{confirmButtonText:"确定"})},rename:function(e,t,a){var i=this;this.curList=t,this.curId=e,this.curIndex=a,this.initChangeName=t[a].name,this.changeName=this.initChangeName,this.renameDialogVisible=!0,this.$nextTick((function(){i.$refs.renameInput.select()}))},focus:function(e){e.currentTarget.select()},handleRename:function(){var e=this;this.renameBtnLoading=!0;var t=this.changeName,a=this.curIndex,i=this.curId;Object(s.h)({id:i,name:t}).then((function(){e.initChangeName="",e.changeName="",e.$set(e.curList,a,{id:i,name:t}),e.curList=null,e.renameBtnLoading=!1,e.renameDialogVisible=!1})).catch((function(){e.renameBtnLoading=!1,e.renameDialogVisible=!1}))},download:function(e){Object(s.d)(e).then((function(e){var t=e.name,a=e.content,i=(e.type,a.Teach_Hard_Env),n=a.Teach_Soft_Env;Object(c.b)(a,t,i,n)}))},handleCommand:function(e,t){var a=t.target.dataset,i=a.id,n=a.index;switch(t.target.title){case"打开":this.open(i);break;case"分享":this.share(i);break;case"重命名":this.rename(i,e,n);break;case"下载":this.download(i)}},cancelCreate:function(){this.createNewFileDialog=!1,this.fileName=""},createNewDesign:function(){this.fileType="design",this.createNewFileDialog=!0},createNewTemplate:function(){this.fileType="template",this.createNewFileDialog=!0},createNewFile:function(){var e=this,t=this.$loading({}),a=this.fileName,i=localStorage.getItem("username"),n=this.fileType;Object(c.c)(),Object(c.a)({name:a,type:n,username:i}).then((function(a){e.cancelCreate(),e.$router.push({name:"CourseBrief",query:{id:a}}).then((function(){t.close()}))}))},goTeachPublic:function(){this.$alert("该功能尚未完善，敬请期待！","开发者提示",{confirmButtonText:"确定"})}},mounted:function(){}},o=(a("d576"),Object(n.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"template-tabs-container"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"我的教案",name:"design"}},[a("div",{staticClass:"template-item-wrap",on:{click:function(t){return e.handleCommand(e.designFileList,t)}}},e._l(e.designFileList,(function(e,t){return a("template-item",{key:e.id,attrs:{index:t,fileId:e.id,fileName:e.name}})})),1),0===e.designFileList.length?a("el-card",{staticClass:"create-tip",attrs:{shadow:"always"}},[a("div",{staticClass:"create-tip-container"},[a("span",[a("svg",{staticClass:"icon",attrs:{t:"1587780228249",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5218",width:"60",height:"60"}},[a("path",{attrs:{d:"M825.152 614.272c18.048 0 33.216 15.168 33.216 34.304v340.032c0 18.56-14.656 34.304-33.216 34.304a33.472 33.472 0 0 1-33.152-34.304v-340.608c0-18.56 15.168-33.728 33.152-33.728zM231.68 205.696H627.2c17.92 0 33.152 15.104 33.152 34.304 0 18.56-14.656 34.24-33.216 34.24H231.68a33.792 33.792 0 0 1-33.152-34.24c0.512-19.2 15.168-34.304 33.152-34.304z m0 204.032H627.2c17.92 0 33.152 15.104 33.152 34.24 0 19.2-14.656 34.304-33.216 34.304H231.68a33.792 33.792 0 0 1-33.152-34.304c0-19.2 15.168-34.24 33.152-34.24z m0 204.544h230.656c17.984 0 33.152 15.168 33.152 34.304 0 19.2-14.592 34.304-33.152 34.304H231.68a33.792 33.792 0 0 1-33.152-34.304c0-19.2 15.168-34.304 33.152-34.304z",fill:"#1296db","p-id":"5219"}}),a("path",{attrs:{d:"M660.352 784.64h329.6c18.048 0 33.28 15.104 33.28 34.24 0 19.2-14.72 34.304-33.28 34.304h-329.6a33.792 33.792 0 0 1-33.216-34.304c0-19.2 15.232-34.304 33.216-34.304z",fill:"#1296db","p-id":"5220"}}),a("path",{attrs:{d:"M726.144 1.088H132.672C60.16 1.088 1.024 62.08 1.024 137.088V886.4c0 74.944 59.072 136 131.648 136h428.672v-68.032H132.672c-36.544 0-65.792-30.208-65.792-67.968V137.088c0-37.76 29.248-68.032 65.792-68.032h593.472c36.608 0 65.856 30.272 65.856 68.032v408.64h65.792V137.088C858.368 62.144 799.36 1.088 726.144 1.088z",fill:"#1296db","p-id":"5221"}})])]),a("div",{staticClass:"create-tip-text"},[a("h3",[e._v("新建教案")]),a("p",[e._v("教案是教学工作的重要部分")]),a("p",[e._v("您还没有一个教案，去新建一个吧~")])])]),a("el-button",{attrs:{type:"primary"},on:{click:e.createNewDesign}},[e._v("新建教案")])],1):e._e()],1),a("el-tab-pane",{attrs:{label:"模板",name:"template"}},[a("div",{staticClass:"template-item-wrap",on:{click:function(t){return e.handleCommand(e.templateFileList,t)}}},e._l(e.templateFileList,(function(e,t){return a("template-item",{key:e.id,attrs:{fileId:e.id,index:t,fileName:e.name}})})),1),0===e.templateFileList.length?a("el-card",{staticClass:"create-tip",attrs:{shadow:"always"}},[a("div",{staticClass:"create-tip-container"},[a("span",[a("svg",{staticClass:"icon",attrs:{t:"1587783058096",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7101",id:"mx_n_1587783058097",width:"60",height:"60"}},[a("path",{staticClass:"selected",attrs:{d:"M0 0m146.285714 0l731.428572 0q146.285714 0 146.285714 146.285714l0 731.428572q0 146.285714-146.285714 146.285714l-731.428572 0q-146.285714 0-146.285714-146.285714l0-731.428572q0-146.285714 146.285714-146.285714Z",fill:"#67C23A","p-id":"7102","data-spm-anchor-id":"a313x.7781069.0.i12"}}),a("path",{attrs:{d:"M475.428571 475.428571V219.428571a36.571429 36.571429 0 0 1 73.142858 0v256H804.571429a36.571429 36.571429 0 1 1 0 73.142858H548.571429V804.571429a36.571429 36.571429 0 1 1-73.142858 0V548.571429H219.428571a36.571429 36.571429 0 0 1 0-73.142858h256z",fill:"#FFFFFF","p-id":"7103"}})])]),a("div",{staticClass:"create-tip-text"},[a("h3",[e._v("新建模板")]),a("p",[e._v("模板可以重复使用")]),a("p",[e._v("您还没有一个模板，去新建一个吧~")])])]),a("el-button",{attrs:{type:"success"},on:{click:e.createNewTemplate}},[e._v("新建模板")])],1):e._e()],1),a("el-tab-pane",{attrs:{label:"收藏",name:"collect"}},[a("div",{staticClass:"template-item-wrap",on:{click:function(t){return e.handleCommand(e.collectFileList,t)}}},e._l(e.collectFileList,(function(e,t){return a("template-item",{key:e.id,attrs:{index:t,fileId:e.id,fileName:e.name}})})),1),0===e.collectFileList.length?a("el-card",{staticClass:"create-tip",attrs:{shadow:"always"}},[a("div",{staticClass:"create-tip-container"},[a("span",[a("svg",{staticClass:"icon",attrs:{t:"1587783622518",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8109","data-spm-anchor-id":"a313x.7781069.0.i19",width:"60",height:"60"}},[a("path",{staticClass:"selected",attrs:{d:"M767.789762 988.960307a70.920339 70.920339 0 0 1-32.516836-8.970162l-224.254037-116.051464-224.254038 116.051464a66.154941 66.154941 0 0 1-72.04161-5.326033 75.125103 75.125103 0 0 1-28.031755-71.480975l46.252396-250.32357-174.91815-171.834656a80.451136 80.451136 0 0 1-19.061593-74.844785 69.238434 69.238434 0 0 1 56.06351-50.176841l245.838488-46.532713 109.604161-232.383247a70.079387 70.079387 0 0 1 62.230496-41.206679 67.556529 67.556529 0 0 1 61.66986 41.206679l110.164796 232.383247 245.558172 44.57049a67.276211 67.276211 0 0 1 56.063509 50.176841 74.844785 74.844785 0 0 1-17.09937 75.125103l-176.880373 173.516561 44.57049 250.32357a73.723515 73.723515 0 0 1-28.031754 71.480975 58.30605 58.30605 0 0 1-39.524774 14.296195z",fill:"#F56C6C","p-id":"8110","data-spm-anchor-id":"a313x.7781069.0.i17"}}),a("path",{staticClass:"selected",attrs:{d:"M770.31262 1024h-3.644128a107.922256 107.922256 0 0 1-48.214618-13.174925l-206.594033-107.641938-208.836572 107.922256a101.194635 101.194635 0 0 1-109.604161-8.409527 112.127019 112.127019 0 0 1-40.646045-105.399397l42.888585-233.2242L32.236518 505.412538a115.771147 115.771147 0 0 1-28.031755-108.763209 104.558445 104.558445 0 0 1 84.095264-76.246373l226.776896-42.888584 102.315905-216.405147a105.960033 105.960033 0 0 1 93.065425-61.109225 103.437175 103.437175 0 0 1 94.747331 62.230495l101.75527 215.283877 227.898166 41.206679a101.75527 101.75527 0 0 1 84.095264 75.966055 108.482891 108.482891 0 0 1-25.789214 107.922256l-165.107036 161.462907 41.486997 232.102929a108.482891 108.482891 0 0 1-40.646044 105.399398 92.504791 92.504791 0 0 1-57.745415 21.584451zM768.070079 953.920613a24.107309 24.107309 0 0 0 16.258418-5.886668 39.805092 39.805092 0 0 0 15.697783-38.683822l-47.934301-268.54421 190.055297-186.691487a38.403504 38.403504 0 0 0 8.409527-38.964139 32.797153 32.797153 0 0 0-28.031755-26.349849l-264.339447-47.934301-117.453052-248.921982a33.638106 33.638106 0 0 0-30.554613-21.023816 35.039693 35.039693 0 0 0-29.993978 20.463181l-117.733369 249.2023-263.218177 49.896523a34.479058 34.479058 0 0 0-28.031755 24.948262 44.57049 44.57049 0 0 0 10.932384 41.767315l188.934027 183.607993-49.616206 268.824528a40.085409 40.085409 0 0 0 14.85683 37.562551 31.115248 31.115248 0 0 0 33.357788 2.24254l241.914044-125.021626 239.671503 124.460991a36.441281 36.441281 0 0 0 16.819052 5.045716z",fill:"#F56C6C","p-id":"8111","data-spm-anchor-id":"a313x.7781069.0.i18"}})])]),a("div",{staticClass:"create-tip-text"},[a("h3",[e._v("收藏夹")]),a("p",[e._v("收藏优秀的教案，方便借鉴")]),a("p",[e._v("收藏夹空空如也，去广场看一看吧~")])])]),a("el-button",{attrs:{type:"danger"},on:{click:e.goTeachPublic}},[e._v("前往教案广场")])],1):e._e()],1)],1),a("el-dialog",{attrs:{title:"重命名-文件名",visible:e.renameDialogVisible,width:"30%"},on:{"update:visible":function(t){e.renameDialogVisible=t}}},[a("el-input",{ref:"renameInput",attrs:{type:"text",clearable:""},on:{focus:function(t){return e.focus(t)}},model:{value:e.changeName,callback:function(t){e.changeName=t},expression:"changeName"}},[e._v(e._s(e.initChangeName))]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.renameDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:e.changeName===e.initChangeName||""===e.changeName,loading:e.renameBtnLoading},on:{click:e.handleRename}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"新建"+("design"===e.fileType?"教案":"模板")+"-文件名",visible:e.createNewFileDialog,"show-close":!1,width:"30%"},on:{"update:visible":function(t){e.createNewFileDialog=t}}},[a("el-input",{attrs:{type:"text",clearable:""},model:{value:e.fileName,callback:function(t){e.fileName=t},expression:"fileName"}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelCreate}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:""===e.fileName},on:{click:e.createNewFile}},[e._v("确 定")])],1)],1)],1)}),[],!1,null,null,null));t.default=o.exports}}]);